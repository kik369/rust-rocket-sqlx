{% import "macros" as macros %} {% extends "base" %} {% block content %}
<hgroup>
    <h2>Project Details</h2>
</hgroup>
<article>
    <header>
        <h2>{{ project.name }}</h2>
        {% if not tasks %}
        <p>
            <a href="/project/{{ project.id }}/add-task">🟩 Add a new task</a>
        </p>
        {% endif %}
    </header>
    <b>id:</b> {{ project.id }}<br />
    <b>start:</b> {{ project.proj_start_date }}<br />
    <b>end:</b> {{ project.proj_end_date }}<br />
    <b>owner:</b> {{ project.owner }}<br />
    <b>participants:</b> {% if project.participants %}
    <ul>
        {% for participant in project.participants %}
        <li>{{ participant }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    <footer>
        <a href="/edit/project/{{ project.id }}">🔨 Edit Project</a>
        <a href="/delete/project/{{ project.id }}">❌ Delete Project</a>
    </footer>
</article>
{% if tasks %}
<article>
    <header>
        <h2>Tasks</h2>
        <p>
            <a href="/project/{{ project.id }}/add-task">🟩 Add a new task</a>
        </p>
    </header>
    <ul>
        {% for task in tasks %}
        <li>
            {{ task.description }}<br />
            <a href="/delete/project/{{ project.id }}/task/{{ task.id }}"
                >❌ Delete Task</a
            >

            {% if not task.task_end_date %}
            <a href="/complete/project/{{ project.id }}/task/{{ task.id }}"
                >✔ Complete Task</a
            >
            {% endif %} {% if task.time_delta %} ⌛
            {{ macros::format_duration(seconds=task.time_delta) }}
            {% endif %}
        </li>
        <b>task.id:</b>
        {{
            task.id
        }}<br />
        <b>task.task_start_dated:</b>
        {{
            task.task_start_date
        }}<br />
        <b>task.task_end_date:</b>
        {{
            task.task_end_date
        }}<br />
        <b>task.owner_proj:</b>
        {{
            task.owner_proj
        }}<br />
        <b>task.time_delta:</b>
        {{
            task.time_delta
        }}
        <p></p>
        {% endfor %}
    </ul>
</article>
{% endif %} {% endblock %}
